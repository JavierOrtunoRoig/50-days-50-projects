---
import Layout from "@/Layout.astro";
---

<Layout>
  <div class="full-center relative">
    <div class="full-center bg relative"></div>
    <p class="text-4xl text-white">0%</p>
  </div>
</Layout>

<style>
  .bg {
    background: url("https://images.unsplash.com/photo-1576161787924-01bb08dad4a4?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2104&q=80")
      no-repeat center center/cover;
    z-index: -1;
  }
  p {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 100;
  }
</style>

<script>
  let tick = 0;
  const bg = document.querySelector(".bg") as HTMLDivElement;
  const text = document.querySelector("p") as HTMLParagraphElement;

  const interval = setInterval(() => {
    tick++;
    text.innerText = `${tick}%`;
    text.style.opacity = `${(100 - tick) / 100}`;
    bg.style.filter = `blur(${100 - tick}px)`;
    console.log({ filter: bg.style.filter });

    if (tick === 100) {
      clearInterval(interval);
    }
  }, 15);
</script>
